machine:
  environment:
    BUILD_NUMBER: ${CIRCLE_BUILD_NUM}
    BUILD_URL: https://circleci.com/gh/tsechov/hclu-registry/${CIRCLE_BUILD_NUM}

  java:
    version: openjdk8

dependencies:
  override:
    - sudo gem install rhc


deployment:
  dev:
    branch: master
    commands:
      - rhc scp -l ${OPENSHIFT_USER} -p ${OPENSHIFT_PASSWORD} hreg upload backend/target/scala-2.11/hreg.war app-root/dependencies/jbossews/webapps/ROOT.war