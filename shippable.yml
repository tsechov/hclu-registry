sudo: false
language: scala
scala:
    - 2.11.6

node_js:
  - 0.12.2

jdk:
   - oraclejdk8

env:
  global:
    - secure: Y3a3qXC0no9KFaDYqAMS7/gq0gjpPHne7cqTrpUhawIZKt4rtqXmY4X+2T2YkfYG8uOG59xw5KzGSwxucNDOeY0lclnNCRjczyeQWb5yjTdnXSb/+R06ClRcOIc2IMJZOSL+nQ3dviFpXfxUTOnHsu+KIaj8teR+QwSC4DSaep1kdbAuPXZoRmnRQZqgXfx6n974cTk/0paD2s7C3xnj0jf8Xzack0QjlKKWRQ16svsifcVYs0451u/yAi0vUk7gixTuof6mrhh5TU8rw+C0VpwLEdHWQymk8HL6UtR5uwLni/LHOzpbQCgXixD5KUo54p9feAUnKkRTAaYnO+DFLA==

before_install:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/buildoutput

script:
  - echo "machine api.heroku.com" >> ~/.netrc
  - echo "login $HEROKU_USER" >> ~/.netrc
  - echo "password $HEROKU_API_KEY" >> ~/.netrc
  - chmod 600 ~/.netrc
  - heroku auth:whoami
  - pwd && export
  - export PATH=/root/.nvm/versions/v0.12.2/bin:$PATH
  - cd ui && npm install && bower --allow-root install && cd ..
  - sbt hreg/assembly
after_success:
  - cp hreg/target/scala-2.11/hreg.jar shippable/buildoutput

